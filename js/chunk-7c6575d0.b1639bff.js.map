{"version":3,"sources":["webpack:///./src/views/WorkScheduleData.vue?7b9d","webpack:///./src/views/WorkScheduleData.vue?89e5","webpack:///./src/components/CalendarMonth.vue?f329","webpack:///src/components/CalendarMonth.vue","webpack:///./src/components/CalendarMonth.vue?33ed","webpack:///./src/components/CalendarMonth.vue","webpack:///src/views/WorkScheduleData.vue","webpack:///./src/views/WorkScheduleData.vue?efd0","webpack:///./src/views/WorkScheduleData.vue","webpack:///./src/components/CalendarMonth.vue?bca6"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","ref","years","on","changeYear","model","value","callback","$$v","year","expression","_l","emploee","key","employee","monthData","month","days","staticRenderFns","_s","months","headDay","component","VCol","VContainer","VRow","VSelect"],"mappings":"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","file":"js/chunk-7c6575d0.b1639bff.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkScheduleData.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkScheduleData.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-container',{staticClass:\"fill-height flexStart mb-0\",attrs:{\"fluid\":\"\"}},[_c('div',{staticClass:\"page-title\"},[_c('h3',[_vm._v(\"Графики работы \")])]),_c('v-row',[_c('v-col',{staticClass:\"pb-0\",attrs:{\"cols\":\"2\"}},[_c('v-select',{ref:\"yearSelect\",staticClass:\"mb-0 pb-0\",attrs:{\"items\":_vm.years,\"label\":\"Выберете год\",\"hide-details\":\"\"},on:{\"change\":_vm.changeYear},model:{value:(_vm.year),callback:function ($$v) {_vm.year=$$v},expression:\"year\"}})],1)],1)],1),(_vm.loading)?_c('v-container',[_c('Loader')],1):(_vm.employeeData)?_vm._l((_vm.employeeData),function(emploee){return _c('v-container',{key:emploee.employee,staticClass:\"fill-height mb-5 pt-0\",attrs:{\"fluid\":\"\"}},_vm._l((emploee.months),function(monthData){return _c('calendar-month',{key:monthData.month,staticClass:\"mb-5 flex-30 mr-10\",attrs:{\"year\":_vm.year,\"month\":monthData.month,\"days\":monthData.days}})}),1)}):_c('v-container',[_c('h3',[_vm._v(\" Ошибка получения данных \")])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"div-calendar\",attrs:{\"align\":\"center\"}},[_c('table',{staticClass:\"calendar\",attrs:{\"border\":\"0\",\"cellspacing\":\"0\",\"cellpadding\":\"1\"}},[_c('thead',[_c('tr',[_c('td',{attrs:{\"colspan\":\"7\"}},[_vm._v(\" \"+_vm._s(_vm.months[_vm.month])+\" \")])]),_c('tr',_vm._l((_vm.weekabbrs),function(headDay){return _c('td',{key:headDay},[_vm._v(\" \"+_vm._s(headDay)+\" \")])}),0)]),_c('tbody',{ref:\"tableBody\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"div-calendar\" align=center>\r\n        <table class=\"calendar\" border=\"0\" cellspacing=\"0\" cellpadding=\"1\">\r\n            <thead>\r\n            <tr>\r\n                <td colspan=\"7\">\r\n                {{months[month]}}\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td v-for=\"headDay of weekabbrs\"\r\n                    :key=\"headDay\">\r\n                    {{headDay}}\r\n                </td>\r\n            </tr>\r\n            </thead>\r\n            <tbody ref=\"tableBody\">\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"calendar-month\",\r\n        data: function () {\r\n            return {\r\n                weekabbrs: ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Вс'],\r\n                months : [ 'Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь' ],\r\n            }\r\n        },\r\n        props:[\r\n            'year',\r\n            'month',\r\n            'days'\r\n        ],\r\n        mounted() {\r\n            this.$refs.tableBody.innerHTML = this.calendar(+this.year, +this.month)\r\n        },\r\n        methods:\r\n            {calendar(year, month) {\r\n                    let Dlast = new Date(year, month + 1, 0).getDate()\r\n                    const D = new Date(year, month, Dlast)\r\n                    const Dfirst = new Date(D.getFullYear(), D.getMonth(), 1).getDay()\r\n                    let calendar = '<tr>'\r\n                    if (Dfirst != 0) {\r\n                        for (let i = 1; i < Dfirst; i++) calendar += '<td> </td>'\r\n                    } else {\r\n                        for (let i = 0; i < 6; i++) calendar += '<td> </td>'\r\n                    }\r\n\r\n                    for (let i = 1; i <= Dlast; i++) {\r\n\r\n                        const arrayDay = this.days.find((currentValue)=>{\r\n                            const dayNumber = new Date(currentValue.work_date).getDate()\r\n                            return dayNumber === i\r\n                        })\r\n\r\n                        if (arrayDay && arrayDay.work_hour && arrayDay.work_hour != 0) {\r\n                            calendar += '<td class=\"working\">' + i + '</td>'\r\n                        }\r\n                        else if (i == new Date().getDate() && D.getFullYear() == new Date().getFullYear() && D.getMonth() == new Date().getMonth()) {\r\n                            calendar += '<td class=\"today\">' + i + '</td>'\r\n                        } else {\r\n                            calendar += '<td>' + i + '</td>'\r\n                        }\r\n                        if (new Date(D.getFullYear(), D.getMonth(), i).getDay() == 0) {\r\n                            calendar += '</tr> <tr>'\r\n                        }\r\n                    }\r\n\r\n                    calendar += ' </tr>'\r\n\r\n                    return calendar\r\n                }\r\n            }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .calendar {\r\n        width: 100%;\r\n        font: monospace;\r\n        line-height: 1.2em;\r\n        font-size: 15px;\r\n        text-align: center;\r\n    }\r\n    .calendar thead tr:first-child {\r\n        font-size: large;\r\n        background-color: #212121;\r\n        color: #E0E0E0;\r\n    }\r\n    .calendar thead tr:last-child {\r\n        font-size: medium;\r\n        background-color: gray;\r\n        color: white;\r\n    }\r\n    .calendar tbody td {\r\n        color: rgb(44, 86, 122);\r\n    }\r\n    .calendar tbody td:nth-child(n+6), .calendar .holiday {\r\n        color: rgb(231, 140, 92);\r\n    }\r\n    .calendar tbody td.today {\r\n        background: rgb(220, 0, 0);\r\n        color: #fff;\r\n    }\r\n    .calendar tbody td.working {\r\n        background: #E0E0E0;\r\n        color: black;\r\n    }\r\n    .div-calendar{\r\n        width:100%;\r\n        border:1px\r\n        solid grey;\r\n        padding:6px;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarMonth.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarMonth.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CalendarMonth.vue?vue&type=template&id=3d469a9a&\"\nimport script from \"./CalendarMonth.vue?vue&type=script&lang=js&\"\nexport * from \"./CalendarMonth.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CalendarMonth.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <v-container\r\n                class=\"fill-height flexStart mb-0\"\r\n                fluid>\r\n            <div class=\"page-title\">\r\n                <h3>Графики работы </h3>\r\n            </div>\r\n            <v-row>\r\n                <v-col cols=\"2\" class=\"pb-0\">\r\n                    <v-select\r\n                            :items=\"years\"\r\n                            label=\"Выберете год\"\r\n                            ref=\"yearSelect\"\r\n                            v-model=\"year\"\r\n                            @change=\"changeYear\"\r\n                            class=\"mb-0 pb-0\"\r\n                            hide-details\r\n                    ></v-select>\r\n                </v-col>\r\n            </v-row>\r\n        </v-container>\r\n        <v-container  v-if=\"loading\">\r\n            <Loader/>\r\n        </v-container>\r\n        <v-container\r\n                class=\"fill-height mb-5 pt-0\"\r\n                fluid\r\n                v-else-if=\"employeeData\"\r\n                v-for=\"emploee of employeeData\"\r\n                :key=\"emploee.employee\"\r\n            >\r\n                <calendar-month\r\n                        v-for=\"monthData of emploee.months\"\r\n                        :key=\"monthData.month\"\r\n\r\n                        :year=\"year\"\r\n                        :month=\"monthData.month\"\r\n                        :days=\"monthData.days\"\r\n                        class=\"mb-5 flex-30 mr-10\"\r\n                        >\r\n                </calendar-month>\r\n        </v-container>\r\n        <v-container v-else>\r\n            <h3>\r\n                Ошибка получения данных\r\n            </h3>\r\n        </v-container>\r\n    </div>\r\n    \r\n</template>\r\n\r\n<script>\r\n    import CalendarMonth from '../components/CalendarMonth'\r\n\r\n    export default {\r\n        components: {CalendarMonth},\r\n        name: \"work-schedule-data\",\r\n        data: () => ({\r\n            loading: true,\r\n            employeeData: {},\r\n            years: [],\r\n            year: new Date().getFullYear()\r\n            }),\r\n        async mounted() {\r\n            const currentYear = new Date().getFullYear()\r\n            for (let i=-3; i < 4; i++ ){\r\n                this.years.push({value: currentYear + i, text: currentYear + i})\r\n            }\r\n\r\n            await this.changeYear()\r\n        },\r\n        methods: {\r\n            async changeYear(){\r\n                this.loading = true\r\n                try {\r\n                    this.employeeData = await this.$store.dispatch('fetchEmployeeWorkScheduleData', this.year)\r\n                }finally {\r\n                    this.loading = false\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .flex-30{\r\n        flex: 20%;\r\n        min-height: 157px;\r\n    }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkScheduleData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkScheduleData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WorkScheduleData.vue?vue&type=template&id=f7d14416&\"\nimport script from \"./WorkScheduleData.vue?vue&type=script&lang=js&\"\nexport * from \"./WorkScheduleData.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WorkScheduleData.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VCol,VContainer,VRow,VSelect})\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarMonth.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarMonth.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}