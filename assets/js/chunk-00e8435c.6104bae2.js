(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00e8435c"],{"1f4f":function(t,e,a){"use strict";a("a9e3");var n=a("5530"),r=(a("8b37"),a("80d2")),i=a("7560"),s=a("58df");e["a"]=Object(s["a"])(i["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(n["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(r["g"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"27fc":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height flexStart",attrs:{fluid:""}},[a("div",{staticClass:"page-title"},[a("h3",[t._v("Расчетные листки")])]),a("v-row",[a("v-col",{staticClass:"pb-0",attrs:{cols:"2"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({attrs:{label:"Выберите месяц",readonly:"","hide-details":""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{type:"month","no-title":"",scrollable:"",locale:"ru",dark:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"normal"},on:{click:function(e){t.menu=!1}}},[t._v("Отмена")]),a("v-btn",{attrs:{text:"",color:"normal"},on:{click:function(e){t.$refs.menu.save(t.date),t.getPaymentList()}}},[t._v("OK")])],1)],1)],1)],1),t.loading?a("Loader"):!t.loading&&t.paiments.length&&t.paiments.length>0?a("v-container",{staticClass:"ml-0 pl-0"},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("payment-group",{attrs:{data:t.nachisleno}}),t.lgoti.items.length?a("payment-group",{attrs:{data:t.lgoti}}):t._e()],1),a("v-col",{attrs:{cols:"6"}},[t.uderzano.items.length?a("payment-group",{attrs:{data:t.uderzano}}):t._e(),t.viplacheno.items.length?a("payment-group",{attrs:{data:t.viplacheno}}):t._e()],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("payment-group",{attrs:{data:t.dolgZaPredpriyztiemNaNachalo}})],1),a("v-col",{attrs:{cols:"6"}},[a("payment-group",{attrs:{data:t.dolgZaPredpriyztiemNaKonec}})],1)],1)],1):t.loading?t._e():a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h3",[t._v("Данные отсутствуют")])])],1)],1)},r=[],i=(a("4de4"),a("96cf"),a("1da1")),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h4",{staticClass:"pl-1",attrs:{primary:""}},[t._v(" "+t._s(t.data.name))]),t.data.items.length&&0!=t.data.items.length?a("v-simple-table",[a("tbody",t._l(t.data.items,(function(e){return a("tr",{key:e.payment_position},[a("td",{staticClass:"no-padding",attrs:{width:"40%"}},[t._v(" "+t._s(e.payment_position))]),a("td",{staticClass:"no-padding rightText",attrs:{width:"20%"}},[t._v(t._s(t._f("numeral")(e.payment_sum,"0,0.00")))])])})),0)]):a("v-simple-table",[a("tbody",[a("tr",[a("td",{staticClass:"no-padding",attrs:{width:"40%"}}),a("td",{staticClass:"no-padding rightText",attrs:{width:"20%"}},[t._v(t._s(t._f("numeral")(0,"0,0.00")))])])])])],1)},o=[],l={name:"payment-group",props:["data"]},c=l,d=(a("9d94"),a("2877")),u=a("6544"),p=a.n(u),m=a("1f4f"),h=Object(d["a"])(c,s,o,!1,null,"cfce06b4",null),f=h.exports;p()(h,{VSimpleTable:m["a"]});var v={components:{PaymentGroup:f},name:"payment-list",data:function(){return{date:(new Date).toISOString().substr(0,7),menu:!1,modal:!1,loading:!0,dolgZaPredpriyztiemNaNachalo:null,dolgZaPredpriyztiemNaKonec:null,nachisleno:null,uderzano:null,viplacheno:null,lgoti:null}},methods:{getPaymentList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,a=new Date(t.date),a.setHours(0),e.next=6,t.$store.dispatch("fetchEmployeePaymentList",{payment_month:a});case 6:n=e.sent,console.log(n),t.dolgZaPredpriyztiemNaNachalo={name:"Долг предприятия на начало",items:n.filter((function(t){return"Входящее сальдо месяца"===t.payment_group}))},t.dolgZaPredpriyztiemNaKonec={name:"Долг предприятия на конец",items:n.filter((function(t){return"Сальдо по итогам расчетов за месяц"===t.payment_group}))},t.nachisleno={name:"Начислено",items:n.filter((function(t){return"Начислено"===t.payment_group}))},t.uderzano={name:"Удержано",items:n.filter((function(t){return"Удержано"===t.payment_group}))},t.viplacheno={name:"Выплачено",items:n.filter((function(t){return"Выплачено"===t.payment_group}))},t.lgoti={name:"Льготы",items:n.filter((function(t){return"Льготы"===t.payment_group}))},t.paiments=n,e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](1),t.paiments=[];case 20:return e.prev=20,t.loading=!1,e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,17,20,23]])})))()}},mounted:function(){this.getPaymentList()}},g=v,y=(a("2ed8"),a("8336")),b=a("62ad"),_=a("a523"),w=a("2e4b"),x=a("e449"),k=a("0fd9"),C=a("2fa4"),P=a("8654"),z=Object(d["a"])(g,n,r,!1,null,"69dd5c7b",null);e["default"]=z.exports;p()(z,{VBtn:y["a"],VCol:b["a"],VContainer:_["a"],VDatePicker:w["a"],VMenu:x["a"],VRow:k["a"],VSpacer:C["a"],VTextField:P["a"]})},"2ed8":function(t,e,a){"use strict";var n=a("c48c"),r=a.n(n);r.a},"8b37":function(t,e,a){},"9d94":function(t,e,a){"use strict";var n=a("fd9d"),r=a.n(n);r.a},c48c:function(t,e,a){},fd9d:function(t,e,a){}}]);
//# sourceMappingURL=chunk-00e8435c.6104bae2.js.map